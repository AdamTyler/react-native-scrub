"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,r=require("react-native"),a=require("lodash-es"),i=require("react-native-gesture-handler");function o(e,t,n){var r,a=[];return r=e,(e="[object Array]"!==Object.prototype.toString.call(r)?[r]:r).forEach((function(e){var r,i,o,u=function(e,t,n){if(e<t[0])return 0;if(e>t[t.length-1])return t.length-1;for(var r,a=0,i=t.length-1;i-a!=1;)e>=t[r=a+Math.floor((i-a)/2)]?a=r:i=r;return a}(e,t);u==t.length-1&&u--,a.push((o=(n[u+1]-(i=n[u]))/(t[u+1]-(r=t[u])))*e+(-o*r+i))})),a}var u=r.Dimensions.get("window").width,l=function(e){return Math.round(e)},c=r.StyleSheet.create({container:{width:"100%",height:100},ticks:{position:"absolute",flexDirection:"row",width:"100%",height:100},tick:{position:"absolute",top:0,width:1,backgroundColor:"#dfdfe6",overflow:"visible"},tickLabel:{position:"absolute",bottom:0,fontSize:14,textAlign:"center"},centerLine:{position:"absolute",top:0,left:"50%",height:50,width:2,borderRadius:1}});exports.CenterLine=function(e){return n.createElement(r.View,{style:[c.centerLine,e.style]})},exports.Slider=function(e){var s=e.min,v=e.max,f=e.value,d=e.onChange,h=e.onUpdate,p=e.round,g=void 0===p?l:p,E=e.spacing,m=void 0===E?20:E,w=e.renderTick,y=e.children,b=a.range(s,v,e.step),S=b.length,x=t.useState(u),V=x[1],k=(x[0]||0)/2,A=-S*m,C=function(e){return o(e,[v,s],[A,0])[0]},L=t.useState((function(){return new r.Animated.Value(C(f))}))[0],T=t.useRef(0);t.useEffect((function(){r.Animated.spring(L,{toValue:C(f)}).start(),T.current=0}),[f]);var X=function(e){var t=o(e,[A,0],[v,s])[0];return g(t)};return n.createElement(i.PanGestureHandler,{onGestureEvent:function(e){if(e.nativeEvent.state===i.State.ACTIVE||e.nativeEvent.state===i.State.END){var t=X(C(f)+T.current+e.nativeEvent.translationX);t<s?t=s:t>v&&(t=v),h(t),r.Animated.spring(L,{toValue:C(t),velocity:e.nativeEvent.velocityX}).start((function(){T.current=0}))}},onHandlerStateChange:function(e){var t=f;e.nativeEvent.state===i.State.END&&(t=X(C(f)+T.current+e.nativeEvent.translationX)),e.nativeEvent.oldState===i.State.ACTIVE&&(T.current+=e.nativeEvent.translationX,d(a.clamp(t,s,v)))}},n.createElement(r.View,{style:c.container,onLayout:function(e){V(e.nativeEvent.layout.width)}},n.createElement(r.Animated.View,{style:[c.ticks,{left:k,transform:[{translateX:L.interpolate({inputRange:[C(v),C(s)],outputRange:[C(v),C(s)],extrapolate:"clamp"})}]}]},b.map((function(e,t){return w({value:e,index:t,spacing:m})}))),y))},exports.Tick=function(e){var t=e.value,a=e.index,i=30;return a%5==0&&(i=40),a%10==0&&(i=50),n.createElement(r.View,{style:{alignItems:"center",left:a*e.spacing}},n.createElement(r.View,{style:[c.tick,{height:i}]}),a%10==0&&n.createElement(r.Text,{style:c.tickLabel},Math.round(t)))};
//# sourceMappingURL=react-native-scrub.cjs.production.min.js.map
